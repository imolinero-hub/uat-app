:root{
  --bg:#0b1220; --card:#0f172a; --muted:#94a3b8; --ring:255 255 255/0.1;
  --text:#e5e7eb; --text-weak:#cbd5e1;
  --accent-1:#0ea5e9; --accent-2:#6366f1; --accent-3:#22c55e;
}
.theme-light{
  --bg:#f8fafc; --card:#ffffff; --muted:#64748b; --ring:15 23 42/0.08;
  --text:#0f172a; --text-weak:#334155;
}
body{
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 20% -10%, rgba(59,130,246,.18), transparent 40%),
    radial-gradient(900px 600px at 120% 0%, rgba(34,197,94,.12), transparent 35%),
    var(--bg);
  transition: background-color .2s ease, color .2s ease;
}
.pill-lg{
  display:inline-flex; align-items:center;
  padding:.45rem .75rem; border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:linear-gradient(135deg, rgba(14,165,233,.14), rgba(99,102,241,.14));
  color:var(--text); font-size:.85rem;
}
.theme-light .pill-lg{
  border-color: rgba(15,23,42,.14);
  background:linear-gradient(135deg, rgba(14,165,233,.12), rgba(99,102,241,.12));
}
.glass{ background:rgba(255,255,255,.03); backdrop-filter:blur(10px); }
.theme-light .glass{ background:rgba(15,23,42,.04) }
.card{ background:var(--card); border:1px solid rgba(255,255,255,.06); border-radius:1.25rem; }
.theme-light .card{ border-color: rgba(15,23,42,.06); }
/* Unified elevated panel surface for Info modal & AI Status */
.panel{
  background: linear-gradient(180deg, rgba(15,23,42,.98), rgba(15,23,42,.94));
  border: 1px solid rgba(255,255,255,.16);
  border-radius: 1.25rem;
  box-shadow: 0 20px 55px rgba(0,0,0,.45), 0 1px 0 rgba(255,255,255,.03) inset;
}
.theme-light .panel{
  background:#fff; border-color: rgba(15,23,42,.12);
  box-shadow: 0 20px 55px rgba(2,6,23,.15), 0 1px 0 rgba(2,6,23,.06) inset;
}
.ring{ box-shadow:0 0 0 1px rgba(var(--ring)); }
.kpi-label{ font-size:.75rem; letter-spacing:.02em; color:var(--muted); font-weight:600 }
.kpi-value{ font-size:1.6rem; font-weight:700 }
.pill{ border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04); border-radius:999px; padding:.2rem .6rem; font-size:.72rem }
.theme-light .pill{ border-color: rgba(15,23,42,.12); background: rgba(15,23,42,.04) }
.btn{ border:1px solid rgba(255,255,255,.12); border-radius:.9rem; padding:.55rem .9rem; }
.btn:hover{ background-color: rgba(255,255,255,.05); }
.theme-light .btn{ border-color: rgba(15,23,42,.12) }
.btn-primary{ background-image:linear-gradient(135deg,var(--accent-1) 0%,var(--accent-2) 50%,var(--accent-3) 100%); border:none; color:#fff; }
.btn-primary:hover{ background-image: linear-gradient(135deg, var(--accent-1) 0%, var(--accent-2) 50%, var(--accent-3) 100%); color: #fff; filter: brightness(.98); }
.badge{ display:inline-flex; align-items:center; gap:.35rem; font-size:.72rem; padding:.2rem .55rem;
  border-radius:999px; border:1px solid rgba(255,255,255,.12); background:rgba(255,255,255,.04) }
.theme-light .badge{ border-color:rgba(15,23,42,.12); background:rgba(15,23,42,.04) }
.badge-dot{ width:.5rem; height:.5rem; border-radius:999px }
.timeline-dot{ width:.6rem; height:.6rem; border-radius:999px; background:#22c55e; box-shadow:0 0 0 3px rgba(34,197,94,.2) }
.table th, .table td{ padding:.6rem .75rem }
.table thead th{ font-size:.75rem; color:var(--muted); font-weight:600; border-bottom:1px solid rgba(255,255,255,.08) }
.theme-light .table thead th{ border-color: rgba(15,23,42,.08) }
.table tbody tr{ border-bottom:1px solid rgba(255,255,255,.06) }
.theme-light .table tbody tr{ border-color: rgba(15,23,42,.06) }
.link{ color:#60a5fa }
.chart-wrap{ position:relative; height:240px }
.chart-wrap > canvas{ position:absolute; inset:0; width:100% !important; height:100% !important }
.countdown-bar{ height:6px; border-radius:999px; background:linear-gradient(90deg,var(--accent-1),var(--accent-2),var(--accent-3)); }
.toast{ position:fixed; bottom:16px; left:50%; transform:translateX(-50%); background:#ef4444; color:white; font-size:12px; padding:8px 10px; border-radius:8px }
.theme-light .toast{ background:#b91c1c }
.icon-btn{ width:36px; height:36px; display:inline-flex; align-items:center; justify-content:center; border-radius:10px; }
.prose h1, .prose h2, .prose h3 { margin: .75rem 0 .5rem; }
.prose hr { border: 0; border-top: 1px solid rgba(148,163,184,.25); margin: .75rem 0; }
.prose p { margin: .35rem 0; }

/* --- KPI color helpers for R/A/G vs plan --- */
.text-emerald-400 { color: #10b981; } /* green */
.text-amber-300   { color: #f59e0b; } /* amber */
.text-rose-400    { color: #fb7185; } /* red */

/* Theme-aware KPI helper text */
.kpi-planned { font-size: 0.75rem; }         /* same size as your current text-xs */
.kpi-delta   { font-size: 0.75rem; font-weight: 400; }

.theme-light .kpi-planned { color: #475569; } /* slate-600 */
.theme-dark  .kpi-planned { color: #cbd5e1; } /* slate-300 */

.theme-light .kpi-delta   { color: #111827; } /* near-black */
.theme-dark  .kpi-delta   { color: #e5e7eb; } /* slate-200 */

/* Modal base */
.modal-backdrop {
  position: fixed; inset: 0;
  background: rgba(2, 6, 23, .45); /* slate-950 with alpha */
  backdrop-filter: blur(2px);
  z-index: 50;
}
.modal-wrap {
  position: fixed; inset: 0; z-index: 51;
  display: grid; place-items: center;
  padding: 1rem;
}
.modal-panel {
  width: min(920px, 96vw);
  border-radius: 16px;
  box-shadow: 0 10px 30px rgba(0,0,0,.35);
  outline: none;
}
.theme-light .modal-panel { background: #ffffff; color: #0f172a; } /* slate-900 */
.theme-dark  .modal-panel { background: #0f172a; color: #e2e8f0; } /* slate-200 */

/* Header/footer */
.modal-header, .modal-footer {
  padding: .875rem 1rem;
  border-bottom: 1px solid rgba(148,163,184,.2);
}
.modal-footer { border-top: 1px solid rgba(148,163,184,.2); border-bottom: 0; }

/* Scrollable content area */
.modal-body {
  padding: 1rem;
  max-height: min(80vh, 700px);
  overflow: auto;               /* <- gives the scrollbar */
}

/* Prevent background scroll when any modal open */
html.modal-open, body.modal-open { overflow: hidden !important; }

/* ===== Modal content typography (Info & Daily) ===== */
.modal-body h1,
.modal-body h2,
.modal-body h3 { line-height: 1.25; margin: .75rem 0 .5rem; }

.theme-light .modal-body h1 { color: #0f172a; } /* slate-900 */
.theme-dark  .modal-body h1 { color: #e2e8f0; } /* slate-200 */
.theme-light .modal-body h2,
.theme-light .modal-body h3 { color: #111827; } /* gray-900-ish */
.theme-dark  .modal-body h2,
.theme-dark  .modal-body h3 { color: #e5e7eb; } /* gray-200-ish */

.modal-body h1 { font-size: 1.5rem; font-weight: 700; }      /* ≈ text-2xl */
.modal-body h2 { font-size: 1.125rem; font-weight: 600;      /* ≈ text-lg */
                  padding-bottom: .25rem;
                  border-bottom: 1px solid rgba(148,163,184,.25); }
.modal-body h3 { font-size: 1rem; font-weight: 600; }        /* ≈ text-base */

.modal-body p  { margin: .35rem 0; }
.modal-body hr { border: 0; border-top: 1px solid rgba(148,163,184,.25); margin: .75rem 0; }

.modal-body ul { margin: .35rem 0 .6rem; padding-left: 1.25rem; }
.modal-body li { margin: .2rem 0; }


